<<<<<<< HEAD
"use strict";

const path = require("path");

function isUrlRequest(url) {
  // An URL is not an request if

  // 1. Allow `data URI`
  if (/^data:/i.test(url)) {
    return true;
  }

  // 2. It's an absolute url and it is not `windows` path like `C:\dir\file`
=======
'use strict';

const path = require('path');

function isUrlRequest(url, root) {
  // An URL is not an request if

  // 1. It's an absolute url and it is not `windows` path like `C:\dir\file`
>>>>>>> 2cfd330b (move react to root dir)
  if (/^[a-z][a-z0-9+.-]*:/i.test(url) && !path.win32.isAbsolute(url)) {
    return false;
  }

<<<<<<< HEAD
  // 3. It's a protocol-relative
=======
  // 2. It's a protocol-relative
>>>>>>> 2cfd330b (move react to root dir)
  if (/^\/\//.test(url)) {
    return false;
  }

<<<<<<< HEAD
  // 4. It's some kind of url for a template
  if (/^#/.test(url)) {
=======
  // 3. It's some kind of url for a template
  if (/^[{}[\]#*;,'§$%&(=?`´^°<>]/.test(url)) {
    return false;
  }

  // 4. It's also not an request if root isn't set and it's a root-relative url
  if ((root === undefined || root === false) && /^\//.test(url)) {
>>>>>>> 2cfd330b (move react to root dir)
    return false;
  }

  return true;
}

module.exports = isUrlRequest;
