{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/home/mier/git/epiCalendar/src/components/Form/Form.js\";\n\nimport useInput from \"../../hooks/use-input\";\nimport HeaderSettingsButton from \"./HeaderSettingsButton\";\nimport React from \"react\";\nimport SettingsContext from \"../../store/settings-context\";\nimport classes from \"./Form.module.css\"; // Import the default state\n\nimport { DEFAULT_FILENAME, DEFAULT_UNIVERSITY } from \"../../store/settings-context\"; // Component that represents the form\n\nvar Form = function Form(props) {\n  // Access the settings context\n  var ctx = React.useContext(SettingsContext);\n\n  var _useInput = useInput(function (value) {\n    return value.length === 37 && value.charAt(0) === \"0\" && value.charAt(1) === \"0\" && value.charAt(2) === \"0\" && value.charAt(3) === \"0\" && value.charAt(27) === \":\" && value.charAt(28) === \"1\" && value.charAt(29) === \"d\";\n  }),\n      enteredCode = _useInput.value,\n      codeIsValid = _useInput.isValid,\n      codeHasError = _useInput.hasError,\n      codeChangeHandler = _useInput.valueChangeHandler,\n      codeBlurHandler = _useInput.inputBlurHandler,\n      codeReset = _useInput.reset; // Variable for the validity of the form\n\n\n  var formIsValid = codeIsValid;\n\n  var formSubmissionHandler = function formSubmissionHandler(event) {\n    event.preventDefault();\n\n    if (!codeIsValid) {\n      console.log(\"Code is not valid\");\n      return;\n    }\n\n    document.getElementById(\"form\").submit();\n    ctx.saveNameHandler(DEFAULT_FILENAME);\n    ctx.check(DEFAULT_UNIVERSITY);\n    codeReset();\n  }; // Styling for the form (error message)\n\n\n  var codeInputClasses = \"\".concat(classes.form, \" \").concat(codeHasError ? classes.invalid : \"\");\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    method: \"post\",\n    onSubmit: formSubmissionHandler,\n    id: \"form\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, \"epiCalendar\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.control,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: codeInputClasses,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"codigo\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, \"JSESSIONID\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"codigo\",\n    name: \"jsessionid\",\n    onChange: codeChangeHandler,\n    onBlur: codeBlurHandler,\n    value: enteredCode,\n    placeholder: \"0000XXXXXXXXXXXXXXXXXXXXXXX:1dXXXXXXX\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }), codeHasError && /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: classes.error,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, \"El c\\xF3digo no es v\\xE1lido.\"))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    name: \"filename\",\n    value: ctx.saveas,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    name: \"location\",\n    value: ctx.university === \"uo\" ? ctx.oviedoCheck.parse : ctx.epiCheck.parse,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    name: \"experimental-location\",\n    value: ctx.university === \"uo\" ? ctx.oviedoCheck.experimental : ctx.epiCheck.experimental,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    name: \"class-type\",\n    value: ctx.university === \"uo\" ? ctx.oviedoCheck.classParsing : ctx.epiCheck.classParsing,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.actions,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(HeaderSettingsButton, {\n    onClick: props.onShowSettings,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button\",\n    disabled: !formIsValid,\n    onClick: formSubmissionHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  }), \"Generar\")));\n};\n\nexport default Form;","map":{"version":3,"names":["useInput","HeaderSettingsButton","React","SettingsContext","classes","DEFAULT_FILENAME","DEFAULT_UNIVERSITY","Form","props","ctx","useContext","value","length","charAt","enteredCode","codeIsValid","isValid","codeHasError","hasError","codeChangeHandler","valueChangeHandler","codeBlurHandler","inputBlurHandler","codeReset","reset","formIsValid","formSubmissionHandler","event","preventDefault","console","log","document","getElementById","submit","saveNameHandler","check","codeInputClasses","form","invalid","control","error","saveas","university","oviedoCheck","parse","epiCheck","experimental","classParsing","actions","onShowSettings"],"sources":["/home/mier/git/epiCalendar/src/components/Form/Form.js"],"sourcesContent":["import useInput from \"../../hooks/use-input\";\nimport HeaderSettingsButton from \"./HeaderSettingsButton\";\nimport React from \"react\";\n\nimport SettingsContext from \"../../store/settings-context\";\nimport classes from \"./Form.module.css\";\n\n// Import the default state\nimport {\n  DEFAULT_FILENAME,\n  DEFAULT_UNIVERSITY,\n} from \"../../store/settings-context\";\n\n// Component that represents the form\nconst Form = (props) => {\n  // Access the settings context\n  const ctx = React.useContext(SettingsContext);\n\n  const {\n    value: enteredCode,\n    isValid: codeIsValid,\n    hasError: codeHasError,\n    valueChangeHandler: codeChangeHandler,\n    inputBlurHandler: codeBlurHandler,\n    reset: codeReset,\n  } = useInput(\n    (value) =>\n      value.length === 37 &&\n      value.charAt(0) === \"0\" &&\n      value.charAt(1) === \"0\" &&\n      value.charAt(2) === \"0\" &&\n      value.charAt(3) === \"0\" &&\n      value.charAt(27) === \":\" &&\n      value.charAt(28) === \"1\" &&\n      value.charAt(29) === \"d\"\n  );\n\n  // Variable for the validity of the form\n  let formIsValid = codeIsValid;\n\n  const formSubmissionHandler = (event) => {\n    event.preventDefault();\n    if (!codeIsValid) {\n      console.log(\"Code is not valid\");\n      return;\n    }\n\n    document.getElementById(\"form\").submit();\n    ctx.saveNameHandler(DEFAULT_FILENAME);\n    ctx.check(DEFAULT_UNIVERSITY);\n    codeReset();\n  };\n\n  // Styling for the form (error message)\n  const codeInputClasses = `${classes.form} ${\n    codeHasError ? classes.invalid : \"\"\n  }`;\n\n  return (\n    <React.Fragment>\n      <form method=\"post\" onSubmit={formSubmissionHandler} id=\"form\">\n        <legend>epiCalendar</legend>\n        <div className={classes.control}>\n          <div className={codeInputClasses}>\n            <label htmlFor=\"codigo\">JSESSIONID</label>\n            <input\n              type=\"text\"\n              id=\"codigo\"\n              name=\"jsessionid\"\n              onChange={codeChangeHandler}\n              onBlur={codeBlurHandler}\n              value={enteredCode}\n              placeholder=\"0000XXXXXXXXXXXXXXXXXXXXXXX:1dXXXXXXX\"\n            />\n            {codeHasError && (\n              <React.Fragment>\n                <p className={classes.error}>El código no es válido.</p>\n              </React.Fragment>\n            )}\n          </div>\n          <div>\n            <input type=\"hidden\" name=\"filename\" value={ctx.saveas} />\n          </div>\n          <div>\n            <input\n              type=\"hidden\"\n              name=\"location\"\n              value={\n                ctx.university === \"uo\"\n                  ? ctx.oviedoCheck.parse\n                  : ctx.epiCheck.parse\n              }\n            />\n          </div>\n          <div>\n            <input\n              type=\"hidden\"\n              name=\"experimental-location\"\n              value={\n                ctx.university === \"uo\"\n                  ? ctx.oviedoCheck.experimental\n                  : ctx.epiCheck.experimental\n              }\n            />\n          </div>\n          <div>\n            <input\n              type=\"hidden\"\n              name=\"class-type\"\n              value={\n                ctx.university === \"uo\"\n                  ? ctx.oviedoCheck.classParsing\n                  : ctx.epiCheck.classParsing\n              }\n            />\n          </div>\n        </div>\n      </form>\n\n      <div className={classes.actions}>\n        <HeaderSettingsButton onClick={props.onShowSettings} />\n        <button\n          className=\"button\"\n          disabled={!formIsValid}\n          onClick={formSubmissionHandler}\n        >\n          <span></span>\n          <span></span>\n          <span></span>\n          <span></span>\n          Generar\n        </button>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default Form;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}