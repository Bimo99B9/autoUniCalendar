{"ast":null,"code":"import _objectSpread from\"/home/mier/git/epiCalendar/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/mier/git/epiCalendar/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useContext}from\"react\";import classes from\"./Checkboxes.module.css\";import SettingsContext from\"../../store/settings-context\";// Component that represents the 3 checkboxes\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Checkboxes=function Checkboxes(){// Access the settings context\nvar ctx=useContext(SettingsContext);// State for the checkboxes\nvar _useState=useState({parse:true,parseDisabled:false}),_useState2=_slicedToArray(_useState,2),parse=_useState2[0],setParse=_useState2[1];var _useState3=useState({classParsing:true,classParsingDisabled:false}),_useState4=_slicedToArray(_useState3,2),classParse=_useState4[0],setClassParse=_useState4[1];// No dependecies as we want the checkboxes to be updated only on first render\nuseEffect(function(){if(ctx.university===\"uo\"){setParse({parse:ctx.oviedoCheck.parse,parseDisabled:ctx.oviedoCheck.parseDisabled});setClassParse({classParsing:ctx.oviedoCheck.classParsing,classParsingDisabled:ctx.oviedoCheck.classParsingDisabled});}else if(ctx.university===\"epi\"){setParse({parse:ctx.epiCheck.parse,parseDisabled:ctx.epiCheck.parseDisabled});setClassParse({classParsing:ctx.epiCheck.classParsing,classParsingDisabled:ctx.epiCheck.classParsingDisabled});}},[ctx.university,ctx.update]);// Effect for updating the checkboxes\nuseEffect(function(){ctx.parseHandler(parse.parse);ctx.classParsingHandler(classParse.classParsing);},[parse.parse,classParse.classParsing]);// Function that handles the checkbox change (parse or location)\nvar parseHandler=function parseHandler(){setParse(function(previousState){return _objectSpread(_objectSpread({},previousState),{},{parse:!previousState.parse});});ctx.updateHandler(true);};// Function that handles the checkbox change (class-type or class-type)\nvar classParsingHandler=function classParsingHandler(){setClassParse(function(previousState){return _objectSpread(_objectSpread({},previousState),{},{classParsing:!previousState.classParsing});});ctx.updateHandler(true);};return/*#__PURE__*/_jsxs(\"div\",{className:classes.overall,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"location-parsing\",checked:parse.parse,onChange:parseHandler,disabled:parse.parseDisabled}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"location-parsing\",children:\"Location parsing (EPI Gij\\xF3n)\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"class-parsing\",checked:classParse.classParsing,onChange:classParsingHandler}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"class-parsing\",children:\"Class type parsing\"})]})]});};export default Checkboxes;","map":{"version":3,"names":["React","useState","useEffect","useContext","classes","SettingsContext","Checkboxes","ctx","parse","parseDisabled","setParse","classParsing","classParsingDisabled","classParse","setClassParse","university","oviedoCheck","epiCheck","update","parseHandler","classParsingHandler","previousState","updateHandler","overall"],"sources":["/home/mier/git/epiCalendar/src/components/Settings/Checkboxes.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\n\nimport classes from \"./Checkboxes.module.css\";\nimport SettingsContext from \"../../store/settings-context\";\n\n// Component that represents the 3 checkboxes\nconst Checkboxes = () => {\n  // Access the settings context\n  const ctx = useContext(SettingsContext);\n\n  // State for the checkboxes\n  const [parse, setParse] = useState({ parse: true, parseDisabled: false });\n  const [classParse, setClassParse] = useState({\n    classParsing: true,\n    classParsingDisabled: false,\n  });\n\n  // No dependecies as we want the checkboxes to be updated only on first render\n  useEffect(() => {\n    if (ctx.university === \"uo\") {\n      setParse({\n        parse: ctx.oviedoCheck.parse,\n        parseDisabled: ctx.oviedoCheck.parseDisabled,\n      });\n      setClassParse({\n        classParsing: ctx.oviedoCheck.classParsing,\n        classParsingDisabled: ctx.oviedoCheck.classParsingDisabled,\n      });\n    } else if (ctx.university === \"epi\") {\n      setParse({\n        parse: ctx.epiCheck.parse,\n        parseDisabled: ctx.epiCheck.parseDisabled,\n      });\n      setClassParse({\n        classParsing: ctx.epiCheck.classParsing,\n        classParsingDisabled: ctx.epiCheck.classParsingDisabled,\n      });\n    }\n  }, [ctx.university, ctx.update]);\n\n  // Effect for updating the checkboxes\n  useEffect(() => {\n    ctx.parseHandler(parse.parse);\n    ctx.classParsingHandler(classParse.classParsing);\n  }, [parse.parse, classParse.classParsing]);\n\n  // Function that handles the checkbox change (parse or location)\n  const parseHandler = () => {\n    setParse((previousState) => ({\n      ...previousState,\n      parse: !previousState.parse,\n    }));\n    ctx.updateHandler(true);\n  };\n\n  // Function that handles the checkbox change (class-type or class-type)\n  const classParsingHandler = () => {\n    setClassParse((previousState) => ({\n      ...previousState,\n      classParsing: !previousState.classParsing,\n    }));\n    ctx.updateHandler(true);\n  };\n\n  return (\n    <div className={classes.overall}>\n      <div>\n        <input\n          type=\"checkbox\"\n          id=\"location-parsing\"\n          checked={parse.parse}\n          onChange={parseHandler}\n          disabled={parse.parseDisabled}\n        />\n        <label htmlFor=\"location-parsing\">Location parsing (EPI Gij√≥n)</label>\n      </div>\n      <div>\n        <input\n          type=\"checkbox\"\n          id=\"class-parsing\"\n          checked={classParse.classParsing}\n          onChange={classParsingHandler}\n        />\n        <label htmlFor=\"class-parsing\">Class type parsing</label>\n      </div>\n    </div>\n  );\n};\n\nexport default Checkboxes;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}